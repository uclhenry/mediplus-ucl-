<div class="row"> <div class="col-lg-12"> <p> </p> </div> <!-- /.col-lg-12 --> </div> <div class="row"> <div class="col-lg-12 col-sm-12"> <div class="panel panel-default" style="border:0;margin-bottom:0"> <!--<div class="panel-heading">Timeline</div>--> <div class="panel-body" style="padding:0"> <!--<canvas></canvas>--> <div id="timeline"></div> </div> </div> </div> <script src="bower_components/timelinejs/js/timeline.js"></script> <script>var timeline = new VCO.Timeline('timeline', 'bower_components/timelinejs/examples/welcome.json', {
        timenav_position:"top",
    });</script> </div> <div class="row col-lg-12"> <div class="panel panel-default"> <!--<div class="panel-heading">Rumours</div>--> <div class="panel-body"> <div class="col-sm-12" ng-controller="ChartCtrl" ng-init="init()"> <div class="col-sm-4" id="line-chart"> <canvas id="line customline-v" class="chart chart-line chart-xl" data="line.data" labels="line.labels" legend="true" click="line.onClick" series="line.series"></canvas> </div> <div class="col-sm-4 pre-scrollable" style="max-height:250px" id="rumourinfo" ng-controller="ChartCtrl"> <table class="table" id="lineTable-v"> <thead> <tr> <th> Top Users    <tbody> <tr ng-repeat="rowContent in rows"> <td style="padding:0px;border-top:0">{{rowContent._id}} <td style="padding:0px;border-top:0">{{rowContent.count}} <!--<td>{{rowContent.count}}</td>-->   </table> </div> <div class="col-sm-4" id="rumourinfo" ng-controller="ChartCtrl"> <div class="row"> <div class="col-sm-9"> <h5>D. Marie</h5> <p>@itsmepanda1</p> </div> <div class="col-sm-3 pull-right"> <!--<p>img here</p>--> <img style="width:100%" src="bower_components/additions/profilepic.jpg"> </div> </div> <div class="row"> <p>Bio: <em>#America, forced medicine is #tyranny! If you value #freedom, stand against any attempts to remove vaccine exemptions. Vaccination is a medical prodedure!</em></p> <p>Joined: <em>January 2011</em></p> </div> </div> </div> </div> </div> </div> <div class="row col-lg-12"> <div class="panel panel-default"> <!--<div class="panel-heading">Rumours</div>--> <div class="panel-body"> <div class="col-sm-12" ng-controller="ChartCtrl" style="height:500px"> <div class="col-sm-12" id="network-graph"> <div id="container"> <style>#graph-container {
                          top: 0;
                          bottom: 0;
                          left: 0;
                          right: 0;
                          position: absolute;
                          height:500px;
                        }</style> <div id="graph-container"></div> </div> <!--<canvas id="network customnetwork-v" class="chart chart-line chart-xl" data="line.data" labels="line.labels" legend="true"
                    click="line.onClick" series="line.series"></canvas>--> </div> <div ng-mouseover="tweetData" class="col-sm-3" id="network-graph-info" style="border-left:1px solid #666; position:absolute; right:0; background:#FFF"> <!--<p><h3>Tweet info</h3></p>--> </div> <!-- <div class="col-sm-4 pre-scrollable" style="max-height:250px" id="toplinksinfo" ng-controller="ChartCtrl">
                    <table class="table" id="lineTable-v">
                        <thead>
                            <tr>
                                <th>
                                    Top Links
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="rowContent in rows">
                                <td style="padding:0px;border-top:0;">{{rowContent._id}}</td>
                                <td style="padding:0px;border-top:0;">{{rowContent.count}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div> --> <!--<div class="col-sm-4 pre-scrollable" style="max-height:250px" id="rumourinfo" ng-controller="ChartCtrl">
                    <table class="table" id="lineTable-v">
                        <thead>
                            <tr>
                                <th>
                                    Top Users
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="rowContent in rows">
                                <td style="padding:0px;border-top:0;">{{rowContent._id}}</td>
                                <td style="padding:0px;border-top:0;">{{rowContent.count}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-sm-4" id="rumourinfo" ng-controller="ChartCtrl">
                    <div class="row">
                        <div class="col-sm-9">
                            <h5>D. Marie</h5>
                            <p>@itsmepanda1</p>
                        </div>
                        <div class="col-sm-3 pull-right">
                            <img style="width:100%" src="bower_components/additions/profilepic.jpg">
                        </div>
                    </div>
                    <div class="row">
                        <p>Bio: <em>#America, forced medicine is #tyranny! If you value #freedom, stand against any attempts to remove vaccine exemptions. Vaccination is a medical prodedure!</em></p>
                        <p>Joined: <em>January 2011</em></p>
                    </div>
                </div>--> </div> </div> </div> </div> <div class="row col-lg-12"> <div class="panel panel-default"> <!--<div class="panel-heading">Rumours</div>--> <div class="panel-body"> <div class="col-sm-12" ng-controller="ChartCtrl" style="height:250px"> <div class="col-sm-4 pre-scrollable" style="max-height:250px" id="toplinksinfo" ng-controller="ChartCtrl"> <table class="table" id="lineTable-v"> <thead> <tr> <th> Top Links    <tbody> <tr onclick="sendReq('http://t.co/ueqE5H09b9')"> <td style="padding:0px;border-top:0"> CDC Scientist: ‘We scheduled meeting to destroy... <!--https://t.co/ueqE5H09b9-->  <td style="padding:0px;border-top:0"> 389   <tr onclick="sendReq('http://t.co/YUZdXihFXh')"> <td style="padding:0px;border-top:0"> Posey CSPAN 7/29/15  <td style="padding:0px;border-top:0"> 364   <tr onclick="sendReq('http://t.co/lKfcemnsei')"> <td style="padding:0px;border-top:0"> Mr Posey | Video  <td style="padding:0px;border-top:0"> 329   <tr onclick="sendReq('http://t.co/86sAqE8U00')"> <td style="padding:0px;border-top:0"> REVEALED: Cancer industry profits 'locked in'...  <td style="padding:0px;border-top:0"> 209   <tr onclick="sendReq('http://t.co/52iRcjF9ns')"> <td style="padding:0px;border-top:0"> Mr Posey | Video  <td style="padding:0px;border-top:0"> 198   <tr onclick="sendReq('http://t.co/TNr6DCkR2k')"> <td style="padding:0px;border-top:0"> CONGRESSMAN POESY DELIVERS BOMBSHE...  <td style="padding:0px;border-top:0"> 185   <tr onclick="sendReq('http://t.co/nviSACNLKY')"> <td style="padding:0px;border-top:0"> Mr Posey | Video  <td style="padding:0px;border-top:0"> 176   <tr onclick="sendReq('https://t.co/G5OiweFSos')"> <td style="padding:0px;border-top:0"> CDC Scientist: ‘We scheduled meeting to destroy...  <td style="padding:0px;border-top:0"> 160   <tr onclick="sendReq('http://t.co/Ge1e86sQgi')"> <td style="padding:0px;border-top:0"> Posey CSPAN 7/29/15  <td style="padding:0px;border-top:0"> 121   <tr onclick="sendReq('http://t.co/jLM6rf2zH4')"> <td style="padding:0px;border-top:0"> Mr Posey | Video  <td style="padding:0px;border-top:0"> 103    </table> </div> <div class="col-sm-8 pre-scrollable" id="linkDisplayWidget" style="height:100%"> <!--testing div--> </div> </div> </div> </div> </div> <!--<div class="row">

    <div class="col-lg-4 col-sm-12" id="line-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Rumours</div>
            <div class="panel-body">
                <canvas id="line" class="chart chart-line chart-xl" data="line.data" labels="line.labels" legend="true"
                click="line.onClick" series="line.series"></canvas>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-sm-12" id="rumourinfo" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Rumour information</div>
            <div class="panel-body">

            </div>
        </div>
    </div>
    <div class="col-lg-4 col-sm-12" id="rumourinfo" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Rumour information</div>
            <div class="panel-body">

            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-4 col-sm-12" id="bar-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Bar Chart / Other analysis</div>
            <div class="panel-body">
                <canvas id="bar" class="chart chart-bar" data="bar.data" labels="bar.labels" series="bar.series"
                options="bar.options"></canvas>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-sm-12" id="bar-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Bar Chart / Other analysis</div>
            <div class="panel-body">
                <canvas id="bar" class="chart chart-bar" data="bar.data" labels="bar.labels" series="bar.series"
                options="bar.options"></canvas>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-sm-12" id="doughnut-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Doughnut Chart</div>
            <div class="panel-body">
                <canvas id="doughnut" class="chart chart-doughnut chart-xs" data="donut.data" labels="donut.labels" legend="false"></canvas>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-4 col-sm-12" id="radar-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Radar Chart</div>
            <div class="panel-body">
                <canvas id="area" class="chart chart-radar" data="radar.data" labels="radar.labels" click="onClick"></canvas>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-sm-12" id="pie-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Pie Chart</div>
            <div class="panel-body">
                <canvas id="pie" class="chart chart-pie chart-xs" data="pie.data" labels="pie.labels"></canvas>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-sm-12" id="polar area-chart" ng-controller="ChartCtrl">
      <div class="panel panel-default">
        <div class="panel-heading">Polar Area Chart</div>
        <div class="panel-body">
          <canvas id="polar" class="chart chart-polar-area" data="polar.data" labels="polar.labels"></canvas>
      </div>
  </div>
</div>
</div>
<div class="row">
    <div class="col-lg-4 col-sm-12" id="base-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Dynamic Chart</div>
            <div class="panel-body">
                <canvas id="base" class="chart chart-base" chart-type="dynamic.type" data="dynamic.data" labels="dynamic.labels" legend="true"></canvas>
            </div>
        </div>
        <button type="button" class="btn btn-primary pull-right" ng-click="dynamic.toggle()">Toggle</button>
    </div>
    <div class="col-lg-4 col-sm-12" id="base-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Dynamic Chart</div>
            <div class="panel-body">
                <canvas id="base" class="chart chart-base" chart-type="dynamic.type" data="dynamic.data" labels="dynamic.labels" legend="true"></canvas>
            </div>
        </div>
        <button type="button" class="btn btn-primary pull-right" ng-click="dynamic.toggle()">Toggle</button>
    </div>
    <div class="col-lg-4 col-sm-12" id="base-chart" ng-controller="ChartCtrl">
        <div class="panel panel-default">
            <div class="panel-heading">Dynamic Chart</div>
            <div class="panel-body">
                <canvas id="base" class="chart chart-base" chart-type="dynamic.type" data="dynamic.data" labels="dynamic.labels" legend="true"></canvas>
            </div>
        </div>
        <button type="button" class="btn btn-primary pull-right" ng-click="dynamic.toggle()">Toggle</button>
    </div>
</div> --> <script type="text/javascript">/**
 * This is a basic example on how to instantiate sigma. A random graph is
 * generated and stored in the "graph" variable, and then sigma is instantiated
 * directly with the graph.
 *
 * The simple instance of sigma is enough to make it render the graph on the on
 * the screen, since the graph is given directly to the constructor.
 */


/*Section for custom graph code (twitter analysis)*/

//calculate number of nodes and edges first of all ( on each row -> if retweeted exists then add 2 nodes otherwise only add 1 node)

//calc number of edges (on each row -> if retweeted then add one, otherwise dont add an edge.)

//calculate the list of nodes and edges before counting the number of nodes and edges. (remove duplicate nodes / edges)



//end
var i,
    s,
    N = 10,
    E = 50,
    g = {};


$(document).ready(function(){

        $.getJSON("../api/networkgraph", function(result){
                g = result;
                console.log(g);


                // Instantiate sigma:
                s = new sigma({
                  graph: g,
                  container: 'graph-container'
                });

                sigma.plugins.relativeSize(s, 1);
                s.startForceAtlas2({linLogMode: false, barnesHutOptimize: false, gravity:2});


                setTimeout(function(){
                    s.stopForceAtlas2();
                }, 5000);


                //s.bind('overNode outNode clickNode doubleClickNode rightClickNode', function(e) {
                s.bind('clickNode', function(e) {
                    console.log(e.type, e.data.node.label, e.data.captor, e.data.node.label);
                    document.getElementById('network-graph-info').innerHTML = "<p><h3>@"+e.data.node.label+"</h3></p><p> Content: " + /*tweet data here*/ e.data.node.text + "</p>"
                    //$scope.tweetData = e.data.node.label;
                });


        });
});



function createRequestObject() {
    var obj;
    var browser = navigator.appName;
    if (browser == "Microsoft Internet Explorer") {
        obj = new ActiveXObject("Microsoft.XMLHTTP");
    } else {
        obj = new XMLHttpRequest();
    }
    return obj;
}

function sendReq(req) {   


    document.getElementById('linkDisplayWidget').innerHTML = "<iframe id='extFrame' src='"+req+"' style='height:100%;width:100%;'></iframe>";


    /*var http = createRequestObject();
    http.open('get', req);
    http.onreadystatechange = handleResponse;
    http.send(null);)*/
}

function handleResponse() {    
    if (http.readyState == 4) {
        var response = http.responseText;
        document.getElementById('linkDisplayWidget').innerHTML=response;
    }
}




    //var mainTimeline = new VCO.Timeline('mainTimeline', 'bower_components/timelinejs/data.json', options);
    /*window.onresize = function(event) {
        timeline.updateDisplay();
    }*/</script>